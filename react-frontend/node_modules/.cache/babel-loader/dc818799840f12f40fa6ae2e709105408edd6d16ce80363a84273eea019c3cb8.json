{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Arslan\\\\eclipse-workspace\\\\Journal\\\\react-frontend\\\\src\\\\components\\\\GroupTableComponent.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport StudentService from '../services/StudentService';\nimport MarkService from '../services/MarkService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass GroupTableComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      journal: props.journal,\n      students: [],\n      marks: []\n    };\n  }\n  componentDidMount() {\n    StudentService.getStudentsByGroupId(this.state.journal.groupId).then(res => {\n      this.setState({\n        students: res.data\n      });\n    });\n    MarkService.getMarksByJournalId(this.state.journal.id).then(res => {\n      this.setState({\n        marks: res.data\n      });\n    });\n  }\n  getMarksSum() {\n    let sum = 0;\n    this.state.marks.map(mark => {\n      sum += +mark.mark;\n    });\n    return sum;\n  }\n  getAverageValue() {\n    let AV = this.getMarksSum() / this.state.marks.length;\n    return AV;\n  }\n  getMarksByStudent(studentId) {\n    let sortedMarks = [];\n    this.state.marks.map(mark => {\n      if (mark.studentId == studentId) sortedMarks.push(mark);\n    });\n    return sortedMarks;\n  }\n\n  //count * 100 / progressCount;\n  //progressive - успевающие, superProgressive - 4 и 5\n  calculateProgressGeneral() {\n    let totalProgres = 0;\n    let superTotalProgres = 0;\n    let progressiveMarkSum = 0;\n    let superProgressiveMarkSum = 0;\n    this.state.students.map(student => {\n      let localSum = 1;\n      let localSuperSum = 1;\n      this.getMarksByStudent(student.id).map(mark => {\n        if (mark.mark <= 2) {\n          localSum = 0;\n        }\n        if (mark.mark <= 3) {\n          localSuperSum = 0;\n        }\n      });\n      progressiveMarkSum += localSum;\n      superProgressiveMarkSum += localSuperSum;\n    });\n    console.log(progressiveMarkSum);\n    totalProgres = progressiveMarkSum * 100 / this.state.students.length;\n    superTotalProgres = superProgressiveMarkSum * 100 / this.state.students.length;\n    return totalProgres;\n  }\n  calculateSuperProgressGeneral() {\n    let superTotalProgres = 0;\n    let superProgressiveMarkSum = 0;\n    this.state.students.map(student => {\n      let localSuperSum = 1;\n      this.getMarksByStudent(student.id).map(mark => {\n        if (mark.mark <= 3) {\n          localSuperSum = 0;\n        }\n      });\n      superProgressiveMarkSum += localSuperSum;\n    });\n    superTotalProgres = superProgressiveMarkSum * 100 / this.state.students.length;\n    return superTotalProgres;\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: this.state.journal.curatorName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: this.state.journal.groupId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: this.state.journal.mouth\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: this.calculateProgressGeneral()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: this.getAverageValue()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default GroupTableComponent;","map":{"version":3,"names":["React","Component","PropTypes","StudentService","MarkService","jsxDEV","_jsxDEV","GroupTableComponent","constructor","props","state","journal","students","marks","componentDidMount","getStudentsByGroupId","groupId","then","res","setState","data","getMarksByJournalId","id","getMarksSum","sum","map","mark","getAverageValue","AV","length","getMarksByStudent","studentId","sortedMarks","push","calculateProgressGeneral","totalProgres","superTotalProgres","progressiveMarkSum","superProgressiveMarkSum","student","localSum","localSuperSum","console","log","calculateSuperProgressGeneral","render","children","curatorName","fileName","_jsxFileName","lineNumber","columnNumber","mouth"],"sources":["C:/Users/Arslan/eclipse-workspace/Journal/react-frontend/src/components/GroupTableComponent.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport StudentService from '../services/StudentService';\r\nimport MarkService from '../services/MarkService';\r\n\r\nclass GroupTableComponent extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state ={\r\n            journal: props.journal,\r\n            students: [],\r\n            marks: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        StudentService.getStudentsByGroupId(this.state.journal.groupId).then(res => {\r\n            this.setState({students: res.data});\r\n        });\r\n        MarkService.getMarksByJournalId(this.state.journal.id).then(res => {\r\n            this.setState({marks: res.data});\r\n        });\r\n\r\n    }\r\n\r\n    getMarksSum(){\r\n        let sum = 0;\r\n        this.state.marks.map(mark => {\r\n            sum += +mark.mark;\r\n        })\r\n        return sum;\r\n    }\r\n\r\n    getAverageValue(){\r\n        let AV = this.getMarksSum() / this.state.marks.length;\r\n        return AV;\r\n    }\r\n\r\n    getMarksByStudent(studentId){\r\n        let sortedMarks = [];\r\n        this.state.marks.map(mark => {\r\n            if(mark.studentId == studentId)\r\n                sortedMarks.push(mark);\r\n        });\r\n        return sortedMarks;\r\n    }\r\n\r\n    //count * 100 / progressCount;\r\n    //progressive - успевающие, superProgressive - 4 и 5\r\n    calculateProgressGeneral(){\r\n        let totalProgres = 0;\r\n        let superTotalProgres = 0;\r\n        let progressiveMarkSum = 0;\r\n        let superProgressiveMarkSum = 0;\r\n        this.state.students.map(student => {\r\n            let localSum = 1;\r\n            let localSuperSum = 1;\r\n            this.getMarksByStudent(student.id).map(mark => {\r\n                if(mark.mark <= 2){localSum = 0;}\r\n                if(mark.mark <= 3){localSuperSum = 0;}\r\n            });\r\n            progressiveMarkSum += localSum;\r\n            superProgressiveMarkSum += localSuperSum;\r\n        });\r\n        console.log(progressiveMarkSum);\r\n        totalProgres = progressiveMarkSum * 100 /  this.state.students.length;\r\n        superTotalProgres = superProgressiveMarkSum * 100 /  this.state.students.length;\r\n        return totalProgres;\r\n    }\r\n\r\n    calculateSuperProgressGeneral(){\r\n        let superTotalProgres = 0;\r\n        let superProgressiveMarkSum = 0;\r\n        this.state.students.map(student => {\r\n            let localSuperSum = 1;\r\n            this.getMarksByStudent(student.id).map(mark => {\r\n                if(mark.mark <= 3){localSuperSum = 0;}\r\n            });\r\n            superProgressiveMarkSum += localSuperSum;\r\n        });\r\n        superTotalProgres = superProgressiveMarkSum * 100 /  this.state.students.length;\r\n        return superTotalProgres;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <tr>\r\n                <td>{this.state.journal.curatorName}</td>\r\n                <td>{this.state.journal.groupId}</td>\r\n                <td>{this.state.journal.mouth}</td>\r\n                <td>{this.calculateProgressGeneral()}</td>\r\n                <td></td>\r\n                <td>{this.getAverageValue()}</td>\r\n            </tr>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GroupTableComponent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}