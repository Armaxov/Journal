{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:8080/authenticate';\nclass AuthenticationService {\n  login(username, password) {\n    return axios.post(API_URL, {\n      username,\n      password\n    }).then(res => {\n      localStorage.setItem(\"token\", res.data.token);\n      return res.data;\n    }).catch(function (error) {\n      return error.response.status;\n    });\n  }\n  checkToken() {\n    return axios.get(API_URL, this.getConfig()).then(res => {\n      return res.data;\n    }).catch(function (error) {\n      if (error.response.status == 401) {\n        return false;\n      }\n      if (error.response.status !== undefined) return error.response.status;else return error.response;\n    });\n  }\n  getUsernameByToken() {\n    return axios.post(API_URL + \"/\" + localStorage.getItem(\"token\"));\n  }\n  getConfig() {\n    if (localStorage.getItem(\"token\") !== null) return {\n      headers: {\n        'Authorization': 'Bearer ' + localStorage.getItem(\"token\")\n      }\n    };\n  }\n  logout() {\n    localStorage.removeItem(\"token\");\n    console.log(\"111\");\n  }\n  isUserLoggedIn() {\n    let token = localStorage.getItem(\"token\");\n    if (token === null) return false;else return true;\n  }\n}\nexport default new AuthenticationService();","map":{"version":3,"names":["axios","API_URL","AuthenticationService","login","username","password","post","then","res","localStorage","setItem","data","token","catch","error","response","status","checkToken","get","getConfig","undefined","getUsernameByToken","getItem","headers","logout","removeItem","console","log","isUserLoggedIn"],"sources":["C:/Users/Arslan/eclipse-workspace/Journal/react-frontend/src/services/AuthenticationService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:8080/authenticate'\r\n\r\nclass AuthenticationService{\r\n\r\n    login(username, password){\r\n        return axios\r\n      .post(API_URL, {\r\n        username,\r\n        password\r\n      }).then(res => {\r\n        localStorage.setItem(\"token\", res.data.token);\r\n        return res.data;\r\n      }).catch(function(error){\r\n            return error.response.status;\r\n      });\r\n    }\r\n\r\n    checkToken(){\r\n      return axios.get(API_URL, this.getConfig()).then(res => {\r\n        return res.data;\r\n      }).catch(function(error){\r\n        if(error.response.status == 401){\r\n          return false;\r\n        }\r\n        if(error.response.status !== undefined)\r\n          return error.response.status;\r\n          else return error.response;\r\n      });\r\n    }\r\n\r\n    getUsernameByToken(){\r\n      return axios.post(API_URL + \"/\" + localStorage.getItem(\"token\"));\r\n    }\r\n\r\n    getConfig(){\r\n        if(localStorage.getItem(\"token\") !== null)\r\n        return {headers:{'Authorization': 'Bearer ' + localStorage.getItem(\"token\")}};\r\n    }\r\n\r\n    logout(){\r\n        localStorage.removeItem(\"token\");\r\n        console.log(\"111\");\r\n    }\r\n\r\n    isUserLoggedIn(){\r\n        let token = localStorage.getItem(\"token\");\r\n        if(token === null)\r\n          return false;\r\n        else \r\n          return true;\r\n    }\r\n\r\n}\r\n\r\nexport default new AuthenticationService();"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,oCAAoC;AAEpD,MAAMC,qBAAqB;EAEvBC,KAAKA,CAACC,QAAQ,EAAEC,QAAQ,EAAC;IACrB,OAAOL,KAAK,CACbM,IAAI,CAACL,OAAO,EAAE;MACbG,QAAQ;MACRC;IACF,CAAC,CAAC,CAACE,IAAI,CAACC,GAAG,IAAI;MACbC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,GAAG,CAACG,IAAI,CAACC,KAAK,CAAC;MAC7C,OAAOJ,GAAG,CAACG,IAAI;IACjB,CAAC,CAAC,CAACE,KAAK,CAAC,UAASC,KAAK,EAAC;MAClB,OAAOA,KAAK,CAACC,QAAQ,CAACC,MAAM;IAClC,CAAC,CAAC;EACJ;EAEAC,UAAUA,CAAA,EAAE;IACV,OAAOjB,KAAK,CAACkB,GAAG,CAACjB,OAAO,EAAE,IAAI,CAACkB,SAAS,CAAC,CAAC,CAAC,CAACZ,IAAI,CAACC,GAAG,IAAI;MACtD,OAAOA,GAAG,CAACG,IAAI;IACjB,CAAC,CAAC,CAACE,KAAK,CAAC,UAASC,KAAK,EAAC;MACtB,IAAGA,KAAK,CAACC,QAAQ,CAACC,MAAM,IAAI,GAAG,EAAC;QAC9B,OAAO,KAAK;MACd;MACA,IAAGF,KAAK,CAACC,QAAQ,CAACC,MAAM,KAAKI,SAAS,EACpC,OAAON,KAAK,CAACC,QAAQ,CAACC,MAAM,CAAC,KACxB,OAAOF,KAAK,CAACC,QAAQ;IAC9B,CAAC,CAAC;EACJ;EAEAM,kBAAkBA,CAAA,EAAE;IAClB,OAAOrB,KAAK,CAACM,IAAI,CAACL,OAAO,GAAG,GAAG,GAAGQ,YAAY,CAACa,OAAO,CAAC,OAAO,CAAC,CAAC;EAClE;EAEAH,SAASA,CAAA,EAAE;IACP,IAAGV,YAAY,CAACa,OAAO,CAAC,OAAO,CAAC,KAAK,IAAI,EACzC,OAAO;MAACC,OAAO,EAAC;QAAC,eAAe,EAAE,SAAS,GAAGd,YAAY,CAACa,OAAO,CAAC,OAAO;MAAC;IAAC,CAAC;EACjF;EAEAE,MAAMA,CAAA,EAAE;IACJf,YAAY,CAACgB,UAAU,CAAC,OAAO,CAAC;IAChCC,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;EACtB;EAEAC,cAAcA,CAAA,EAAE;IACZ,IAAIhB,KAAK,GAAGH,YAAY,CAACa,OAAO,CAAC,OAAO,CAAC;IACzC,IAAGV,KAAK,KAAK,IAAI,EACf,OAAO,KAAK,CAAC,KAEb,OAAO,IAAI;EACjB;AAEJ;AAEA,eAAe,IAAIV,qBAAqB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}