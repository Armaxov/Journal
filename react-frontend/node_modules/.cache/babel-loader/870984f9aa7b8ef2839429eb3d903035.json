{"ast":null,"code":"import _classCallCheck from\"C:/Users/Arslan/eclipse-workspace/Journal/react-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Arslan/eclipse-workspace/Journal/react-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/Arslan/eclipse-workspace/Journal/react-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/Arslan/eclipse-workspace/Journal/react-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Arslan/eclipse-workspace/Journal/react-frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import App from'../App';import AuthenticationService from'../services/AuthenticationService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LogInComponent=/*#__PURE__*/function(_Component){_inherits(LogInComponent,_Component);var _super=_createSuper(LogInComponent);function LogInComponent(props){var _this;_classCallCheck(this,LogInComponent);_this=_super.call(this,props);_this.changeLoginHandler=function(event){var username=event.target.value;_this.setState({username:username,userNotFound:false});if(username.length<4&&username.length>0)_this.setState({incorrectUsername:true});else _this.setState({incorrectUsername:false});};_this.changePasswordHandler=function(event){var password=event.target.value;_this.setState({password:password,userNotFound:false});if(password.length<4&&password.length>0)_this.setState({incorrectPassword:true});else _this.setState({incorrectPassword:false});};_this.login=function(e){e.preventDefault();var login=AuthenticationService.login(_this.state.username,_this.state.password);login.then(function(res){if(res==401)_this.setState({userNotFound:true});if(_this.state.userNotFound==false){_this.props.history.push('/');document.location.reload();}});};_this.state={username:'',password:'',userNotFound:false,incorrectUsername:false,incorrectPassword:false};_this.changeLoginHandler=_this.changeLoginHandler.bind(_assertThisInitialized(_this));_this.changePasswordHandler=_this.changePasswordHandler.bind(_assertThisInitialized(_this));_this.login=_this.login.bind(_assertThisInitialized(_this));_this.userNotFoundMessage=_this.userNotFoundMessage.bind(_assertThisInitialized(_this));return _this;}_createClass(LogInComponent,[{key:\"userNotFoundMessage\",value:function userNotFoundMessage(){if(this.state.userNotFound)return/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",style:{backgroundColor:\"RGBA(250, 0, 0,.7)\",borderRadius:6},children:/*#__PURE__*/_jsx(\"label\",{style:{marginLeft:12},children:\"\\u041D\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u043E\\u0435 \\u0438\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F \\u0438\\u043B\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"})});}},{key:\"incorrectUsernameMessage\",value:function incorrectUsernameMessage(){if(this.state.incorrectUsername)return/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",style:{backgroundColor:\"RGBA(250, 0, 0,.7)\",borderRadius:6},children:/*#__PURE__*/_jsx(\"label\",{style:{marginLeft:12},children:\"\\u0421\\u043B\\u0438\\u0448\\u043A\\u043E\\u043C \\u043C\\u0430\\u043B\\u0435\\u043D\\u044C\\u043A\\u043E\\u0435 \\u0438\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"})});}},{key:\"incorrectPasswordMessage\",value:function incorrectPasswordMessage(){if(this.state.incorrectPassword)return/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",style:{backgroundColor:\"RGBA(250, 0, 0,.7)\",borderRadius:6},children:/*#__PURE__*/_jsx(\"label\",{style:{marginLeft:12},children:\"\\u0421\\u043B\\u0438\\u0448\\u043A\\u043E\\u043C \\u043C\\u0430\\u043B\\u0435\\u043D\\u044C\\u043A\\u0438\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"})});}},{key:\"cancel\",value:function cancel(){this.props.history.push('/');}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card col-md-6 offset-md-3 offset-md-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{children:[this.userNotFoundMessage(),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u041B\\u043E\\u0433\\u0438\\u043D\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\u041B\\u043E\\u0433\\u0438\\u043D\",name:\"login\",className:\"form-control\",value:this.state.login,onChange:this.changeLoginHandler})]}),this.incorrectUsernameMessage(),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",name:\"password\",className:\"form-control\",value:this.state.password,onChange:this.changePasswordHandler})]}),this.incorrectPasswordMessage(),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:this.login,children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:this.cancel.bind(this),style:{marginLeft:\"10px\"},children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"})]})})]})})})});}}]);return LogInComponent;}(Component);export default LogInComponent;","map":{"version":3,"sources":["C:/Users/Arslan/eclipse-workspace/Journal/react-frontend/src/components/LogInComponent.jsx"],"names":["React","Component","App","AuthenticationService","LogInComponent","props","changeLoginHandler","event","username","target","value","setState","userNotFound","length","incorrectUsername","changePasswordHandler","password","incorrectPassword","login","e","preventDefault","state","then","res","history","push","document","location","reload","bind","userNotFoundMessage","backgroundColor","borderRadius","marginLeft","incorrectUsernameMessage","incorrectPasswordMessage","cancel"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport App from '../App';\r\nimport AuthenticationService from '../services/AuthenticationService';\r\n\r\nclass LogInComponent extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            userNotFound: false,\r\n            incorrectUsername: false,\r\n            incorrectPassword: false\r\n        }\r\n\r\n        this.changeLoginHandler = this.changeLoginHandler.bind(this);\r\n        this.changePasswordHandler = this.changePasswordHandler.bind(this);\r\n        this.login = this.login.bind(this);\r\n        this.userNotFoundMessage = this.userNotFoundMessage.bind(this);\r\n    }\r\n\r\n    \r\n\r\n    changeLoginHandler = (event) =>{\r\n        let username = event.target.value;\r\n        this.setState({username: username, userNotFound:false});\r\n        if(username.length < 4 && username.length > 0)\r\n            this.setState({incorrectUsername:true});\r\n        else\r\n            this.setState({incorrectUsername:false});\r\n    }\r\n    \r\n    changePasswordHandler = (event) =>{\r\n        let password = event.target.value;\r\n        this.setState({password: password, userNotFound:false});\r\n        if(password.length < 4 && password.length > 0)\r\n            this.setState({incorrectPassword:true});\r\n        else\r\n            this.setState({incorrectPassword:false});\r\n    }\r\n\r\n    login = e =>{\r\n        e.preventDefault();\r\n        let login = AuthenticationService.login(this.state.username, this.state.password);\r\n        login.then(res => {\r\n            if(res == 401)\r\n                this.setState({userNotFound: true});\r\n            if(this.state.userNotFound == false){\r\n                this.props.history.push('/');\r\n                document.location.reload();\r\n            }\r\n        });\r\n    }\r\n\r\n    userNotFoundMessage(){\r\n        if(this.state.userNotFound)\r\n            return <div className=\"form-group\"  style={{backgroundColor:\"RGBA(250, 0, 0,.7)\", borderRadius:6}}><label style={{marginLeft:12}}>Не правильное имя пользователя или пароль</label></div>\r\n    }\r\n\r\n    incorrectUsernameMessage(){\r\n        if(this.state.incorrectUsername)\r\n            return <div className=\"form-group\"  style={{backgroundColor:\"RGBA(250, 0, 0,.7)\", borderRadius:6}}><label style={{marginLeft:12}}>Слишком маленькое имя пользователя</label></div>\r\n    }\r\n\r\n    incorrectPasswordMessage(){\r\n        if(this.state.incorrectPassword)\r\n            return <div className=\"form-group\"  style={{backgroundColor:\"RGBA(250, 0, 0,.7)\", borderRadius:6}}><label style={{marginLeft:12}}>Слишком маленький пароль</label></div>\r\n    }\r\n\r\n    cancel(){\r\n        this.props.history.push('/');\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"card col-md-6 offset-md-3 offset-md-3\">\r\n                            <h3 className=\"text-center\">Войти</h3>\r\n                            <div className=\"card-body\">\r\n                                <form>\r\n                                    {this.userNotFoundMessage()}\r\n                                    <div className=\"form-group\">\r\n                                        <label>Логин</label>\r\n                                        <input placeholder=\"Логин\" name=\"login\" className=\"form-control\"\r\n                                        value={this.state.login} onChange={this.changeLoginHandler}/>\r\n                                    </div>\r\n                                    {this.incorrectUsernameMessage()}\r\n\r\n                                    <div className=\"form-group\">\r\n                                        <label>Пароль</label>\r\n                                        <input type = \"password\" placeholder=\"Пароль\" name=\"password\" className=\"form-control\"\r\n                                        value={this.state.password} onChange={this.changePasswordHandler}/>\r\n                                    </div>\r\n                                    {this.incorrectPasswordMessage()}\r\n\r\n                                    <button className=\"btn btn-success\" onClick={this.login}>Войти</button>\r\n                                    <button className=\"btn btn-danger\" onClick={this.cancel.bind(this)} style={{marginLeft: \"10px\"}}>Отмена</button>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LogInComponent;"]},"metadata":{},"sourceType":"module"}