{"ast":null,"code":"import _classCallCheck from\"C:/Users/Arslan/eclipse-workspace/Journal/react-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Arslan/eclipse-workspace/Journal/react-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/Arslan/eclipse-workspace/Journal/react-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/Arslan/eclipse-workspace/Journal/react-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Arslan/eclipse-workspace/Journal/react-frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import AuthenticationService from'../services/AuthenticationService';import GroupService from'../services/GroupService';import StudentService from'../services/StudentService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StudentListComponent=/*#__PURE__*/function(_Component){_inherits(StudentListComponent,_Component);var _super=_createSuper(StudentListComponent);function StudentListComponent(props){var _this;_classCallCheck(this,StudentListComponent);_this=_super.call(this,props);_this.state={students:[],groups:[]};_this.addStudent=_this.addStudent.bind(_assertThisInitialized(_this));_this.editStudent=_this.editStudent.bind(_assertThisInitialized(_this));return _this;}_createClass(StudentListComponent,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;StudentService.getStudents().then(function(res){_this2.setState({students:res.data});});GroupService.getGroups().then(function(res){_this2.setState({groups:res.data});});}},{key:\"addStudent\",value:function addStudent(){this.props.history.push(\"/add-student/-1\");}},{key:\"editStudent\",value:function editStudent(id){this.props.history.push(\"/add-student/\".concat(id));}},{key:\"getGroupNameById\",value:function getGroupNameById(id){var currentGroup='';this.state.groups.forEach(function(group){if(group.id==id){currentGroup=group.groupName;}});return currentGroup;}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0441\\u0442\\u0443\\u0434\\u0435\\u043D\\u0442\\u043E\\u0432\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"\\u0418\\u043C\\u044F\"}),/*#__PURE__*/_jsx(\"td\",{children:\"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"td\",{children:\"\\u0413\\u0440\\u0443\\u043F\\u043F\\u0430\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.students.map(function(student){return/*#__PURE__*/_jsxs(\"tr\",{style:{cursor:\"pointer\"},onClick:_this3.editStudent.bind(_this3,student.id),children:[/*#__PURE__*/_jsx(\"td\",{children:student.firstName}),/*#__PURE__*/_jsx(\"td\",{children:student.lastName}),/*#__PURE__*/_jsx(\"td\",{children:_this3.getGroupNameById(student.groupId)})]},student.id);})})]})})]});}}]);return StudentListComponent;}(Component);export default StudentListComponent;","map":{"version":3,"sources":["C:/Users/Arslan/eclipse-workspace/Journal/react-frontend/src/components/StudentListComponent.jsx"],"names":["React","Component","AuthenticationService","GroupService","StudentService","StudentListComponent","props","state","students","groups","addStudent","bind","editStudent","getStudents","then","res","setState","data","getGroups","history","push","id","currentGroup","forEach","group","groupName","map","student","cursor","firstName","lastName","getGroupNameById","groupId"],"mappings":"urBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,qBAAP,KAAkC,mCAAlC,CACA,MAAOC,CAAAA,YAAP,KAAyB,0BAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,4BAA3B,C,2FAEMC,CAAAA,oB,4HACF,8BAAYC,KAAZ,CAAkB,sDACd,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACTC,QAAQ,CAAC,EADA,CAETC,MAAM,CAAC,EAFE,CAAb,CAIA,MAAKC,UAAL,CAAiB,MAAKA,UAAL,CAAgBC,IAAhB,+BAAjB,CACA,MAAKC,WAAL,CAAkB,MAAKA,WAAL,CAAiBD,IAAjB,+BAAlB,CARc,aASjB,C,kEAED,4BAAmB,iBACfP,cAAc,CAACS,WAAf,GAA6BC,IAA7B,CAAkC,SAACC,GAAD,CAAS,CACvC,MAAI,CAACC,QAAL,CAAc,CAACR,QAAQ,CAAEO,GAAG,CAACE,IAAf,CAAd,EACH,CAFD,EAIAd,YAAY,CAACe,SAAb,GAAyBJ,IAAzB,CAA8B,SAAAC,GAAG,CAAI,CACjC,MAAI,CAACC,QAAL,CAAc,CAACP,MAAM,CAAEM,GAAG,CAACE,IAAb,CAAd,EACH,CAFD,EAGH,C,0BAGD,qBAAY,CACR,KAAKX,KAAL,CAAWa,OAAX,CAAmBC,IAAnB,CAAwB,iBAAxB,EACH,C,2BAED,qBAAYC,EAAZ,CAAe,CACX,KAAKf,KAAL,CAAWa,OAAX,CAAmBC,IAAnB,wBAAwCC,EAAxC,GACH,C,gCAED,0BAAiBA,EAAjB,CAAoB,CAChB,GAAIC,CAAAA,YAAY,CAAG,EAAnB,CACA,KAAKf,KAAL,CAAWE,MAAX,CAAkBc,OAAlB,CAA0B,SAACC,KAAD,CAAW,CACjC,GAAGA,KAAK,CAACH,EAAN,EAAYA,EAAf,CAAkB,CACdC,YAAY,CAAGE,KAAK,CAACC,SAArB,CACH,CACJ,CAJD,EAKA,MAAOH,CAAAA,YAAP,CACH,C,sBAED,iBAAS,iBACL,mBACI,oCACI,WAAI,SAAS,CAAC,aAAd,yGADJ,cAEI,YAAK,SAAS,CAAC,KAAf,uBACI,eAAO,SAAS,CAAC,oCAAjB,wBACI,oCACI,mCACI,0CADJ,cAEI,kEAFJ,cAGI,4DAHJ,GADJ,EADJ,cASI,uBAEQ,KAAKf,KAAL,CAAWC,QAAX,CAAoBkB,GAApB,CACI,SAAAC,OAAO,qBACP,YAAuB,KAAK,CAAI,CAACC,MAAM,CAAC,SAAR,CAAhC,CAAoD,OAAO,CAAE,MAAI,CAAChB,WAAL,CAAiBD,IAAjB,CAAsB,MAAtB,CAA4BgB,OAAO,CAACN,EAApC,CAA7D,wBACI,oBAAKM,OAAO,CAACE,SAAb,EADJ,cAEI,oBAAKF,OAAO,CAACG,QAAb,EAFJ,cAGI,oBAAK,MAAI,CAACC,gBAAL,CAAsBJ,OAAO,CAACK,OAA9B,CAAL,EAHJ,GAAWL,OAAO,CAACN,EAAnB,CADO,EADX,CAFR,EATJ,GADJ,EAFJ,GADJ,CA6BH,C,kCAvE8BpB,S,EA0EnC,cAAeI,CAAAA,oBAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport AuthenticationService from '../services/AuthenticationService';\r\nimport GroupService from '../services/GroupService';\r\nimport StudentService from '../services/StudentService';\r\n\r\nclass StudentListComponent extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        this.state = {\r\n            students:[],\r\n            groups:[]\r\n        }\r\n        this.addStudent= this.addStudent.bind(this);\r\n        this.editStudent= this.editStudent.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        StudentService.getStudents().then((res) => {\r\n            this.setState({students: res.data});\r\n        });\r\n\r\n        GroupService.getGroups().then(res => {\r\n            this.setState({groups: res.data});\r\n        });\r\n    }\r\n\r\n\r\n    addStudent(){\r\n        this.props.history.push(\"/add-student/-1\");\r\n    }\r\n\r\n    editStudent(id){\r\n        this.props.history.push(`/add-student/${id}`);\r\n    }\r\n\r\n    getGroupNameById(id){\r\n        let currentGroup = '';\r\n        this.state.groups.forEach((group) => {\r\n            if(group.id == id){\r\n                currentGroup = group.groupName;\r\n            }\r\n        });\r\n        return currentGroup;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h2 className=\"text-center\">Список студентов</h2>\r\n                <div className=\"row\">\r\n                    <table className=\"table table-striped table-bordered\">\r\n                        <thead>\r\n                            <tr>\r\n                                <td>Имя</td>\r\n                                <td>Фамилия</td>\r\n                                <td>Группа</td>\r\n                            </tr>\r\n                        </thead>\r\n\r\n                        <tbody>\r\n                            {\r\n                                this.state.students.map(\r\n                                    student =>\r\n                                    <tr key = {student.id} style = {{cursor:\"pointer\"}} onClick={this.editStudent.bind(this, student.id)}>\r\n                                        <td>{student.firstName}</td>\r\n                                        <td>{student.lastName}</td>\r\n                                        <td>{this.getGroupNameById(student.groupId)}</td>\r\n                                    </tr>\r\n                                )\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default StudentListComponent;"]},"metadata":{},"sourceType":"module"}