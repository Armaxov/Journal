{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Arslan\\\\eclipse-workspace\\\\Journal\\\\react-frontend\\\\src\\\\components\\\\LessonLibraryListComponent.jsx\";\nimport React, { Component } from 'react';\nimport AuthenticationService from '../services/AuthenticationService';\nimport LessonLibraryService from '../services/LessonLibraryService';\nimport UserService from '../services/UserService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass LessonLibraryListComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.changeLessonNameHandler = e => {\n      this.setState({\n        currentLessonName: e.target.value\n      });\n      this.sortLessonLibraries();\n    };\n\n    this.state = {\n      userId: '',\n      lessonLibraries: [],\n      currentLessonName: ''\n    };\n    this.changeLessonNameHandler = this.changeLessonNameHandler.bind(this);\n    this.addLessonLibraryHandler = this.addLessonLibraryHandler.bind(this);\n  }\n\n  componentDidMount() {\n    AuthenticationService.getUsernameByToken().then(res => {\n      UserService.getIdByUsername(res.data).then(res1 => {\n        this.setState({\n          userId: res1.data\n        });\n        LessonLibraryService.getLessonLibraryByUserId(this.state.userId).then(res2 => {\n          this.setState({\n            lessonLibraries: res2.data\n          });\n          console.log(this.state.lessonLibraries);\n        });\n      });\n    });\n  }\n\n  addLessonLibraryHandler() {\n    if (this.state.currentLessonName != '') {\n      let lessonDescription = {\n        name: this.state.currentLessonName,\n        description: '',\n        userId: this.state.userId\n      };\n      LessonLibraryService.saveLessonLibrary(lessonDescription).then(() => {\n        this.setState({});\n      });\n    }\n  }\n\n  sortLessonLibraries() {\n    this.setState({\n      sortedLessonLibraries: []\n    });\n    this.state.lessonLibraries.map(lessonLibrary => {\n      if (lessonLibrary.name == this.state.currentLessonName) this.state.sortedLessonLibraries.push(lessonLibrary);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center\",\n        children: \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0442\\u0435\\u043C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u041F\\u0440\\u0435\\u0434\\u043C\\u0435\\u0442\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\\u041F\\u0440\\u0435\\u0434\\u043C\\u0435\\u0442\",\n        className: \"form-control\",\n        onChange: this.changeLessonNameHandler,\n        value: this.state.currentLessonName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-striped table-bordered\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"\\u041F\\u0440\\u0435\\u0434\\u043C\\u0435\\u0442\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [this.state.lessonLibraries.map(lessonLibrary => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: lessonLibrary.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: lessonLibrary.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 37\n            }, this)), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                onClick: this.addLessonLibraryHandler,\n                children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u0435\\u043C\\u0443\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default LessonLibraryListComponent;","map":{"version":3,"sources":["C:/Users/Arslan/eclipse-workspace/Journal/react-frontend/src/components/LessonLibraryListComponent.jsx"],"names":["React","Component","AuthenticationService","LessonLibraryService","UserService","LessonLibraryListComponent","constructor","props","changeLessonNameHandler","e","setState","currentLessonName","target","value","sortLessonLibraries","state","userId","lessonLibraries","bind","addLessonLibraryHandler","componentDidMount","getUsernameByToken","then","res","getIdByUsername","data","res1","getLessonLibraryByUserId","res2","console","log","lessonDescription","name","description","saveLessonLibrary","sortedLessonLibraries","map","lessonLibrary","push","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport AuthenticationService from '../services/AuthenticationService';\r\nimport LessonLibraryService from '../services/LessonLibraryService';\r\nimport UserService from '../services/UserService';\r\n\r\nclass LessonLibraryListComponent extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            userId: '',\r\n            lessonLibraries: [],\r\n            currentLessonName: ''\r\n        }\r\n        this.changeLessonNameHandler = this.changeLessonNameHandler.bind(this);\r\n        this.addLessonLibraryHandler = this.addLessonLibraryHandler.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        AuthenticationService.getUsernameByToken().then(res => {\r\n            UserService.getIdByUsername(res.data).then(res1 => {\r\n                this.setState({userId: res1.data});\r\n                \r\n                LessonLibraryService.getLessonLibraryByUserId(this.state.userId).then(res2 => {\r\n                    this.setState({lessonLibraries: res2.data});\r\n                    console.log(this.state.lessonLibraries);\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    addLessonLibraryHandler(){\r\n        if(this.state.currentLessonName != ''){\r\n            let lessonDescription = {name: this.state.currentLessonName, \r\n                description: '', userId: this.state.userId}\r\n            LessonLibraryService.saveLessonLibrary(lessonDescription).then(() => {\r\n                this.setState({});\r\n            });\r\n        }\r\n    }\r\n\r\n    changeLessonNameHandler = e =>{\r\n        this.setState({currentLessonName: e.target.value});\r\n        this.sortLessonLibraries();\r\n    }\r\n\r\n    sortLessonLibraries(){\r\n        this.setState({sortedLessonLibraries: []});\r\n\r\n        this.state.lessonLibraries.map(lessonLibrary => {\r\n            if(lessonLibrary.name == this.state.currentLessonName)\r\n                this.state.sortedLessonLibraries.push(lessonLibrary);\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h2 className=\"text-center\">Список тем</h2>\r\n\r\n                <label>Предмет</label>\r\n                <input placeholder=\"Предмет\" className=\"form-control\" onChange={this.changeLessonNameHandler} value={this.state.currentLessonName}></input>\r\n                <label></label>\r\n\r\n                <div className=\"row\">\r\n                    <table className=\"table table-striped table-bordered\">\r\n                        <thead>\r\n                            <tr>\r\n                                <td>Предмет</td>\r\n                                <td>Описание</td>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                this.state.lessonLibraries.map(lessonLibrary => \r\n                                    <tr>\r\n                                        <td>{lessonLibrary.name}</td>\r\n                                        <td>{lessonLibrary.description}</td>\r\n                                    </tr>\r\n                                )\r\n                            }\r\n                            <tr>\r\n                                <td onClick={this.addLessonLibraryHandler}>Добавить тему</td>\r\n                                <td></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LessonLibraryListComponent;"]},"metadata":{},"sourceType":"module"}